<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendamento de Consultas</title>
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
    <div class="container">
        <h2>Agendamento de Consultas</h2>

        <div class="input-group">
            <label for="cpf">CPF:</label>
            <input type="text" id="cpf" name="cpf" required>
            <script src="./js/mascaras.js"></script>
        </div>
        <div class="input-group">
            <label for="especialização">Especialização:</label>
            <select id="especializacao" name="especializacao" required>
                <option></option>
                    <option value="clinico">Veterinário Clinico</option>
                    <option value="cirurgiao">Cirurgião</option>
                    <option value="oftalmologia">Oftalmologia</option>
                    <option value="cardiologia">Cardiologia</option>
                    <option value="ortopedista">Ortopedia</option>
                    <option value="neurologista">Neurologia</option>
                    <option value="patologia">Patologia</option>
                    <option value="medicina">Medicina Intensiva Veterinária</option>
                    <option value="oncologia">Oncologia</option>
                    <option value="dermatologia">Dermatologia</option>
                    <option value="nutricao">Nutricionista</option>
            </select>
        </div>

        <form id="agendamentoForm" action="#" method="POST">
            <div class="input-group">
                <label for="DataAgendamento">Data do Agendamento:</label>
                <input type="date" id="DataAgendamento" name="DataAgendamento" required>
            </div>
            <div class="input-group">
                <label for="HoraAgendamento">Hora do Agendamento:</label>
                <input type="time" id="HoraAgendamento" name="HoraAgendamento" required>
            </div>
            <!-- Lista de médicos -->
            <div class="input-group" id="listaMedicos">
                <label for="listaMedicos">Médicos Disponíveis:</label>
                <ul id="medicosListview"></ul>
            </div>
            <!-- Botões -->
            <button type="submit" class="button">Agendar Consulta</button>
            
            <p><a href="perfil.html" class="button">Seu Perfil</a></p>
        </form>
    </div>

    <script>
        // Fonte de dados simulada para médicos, especialidades e CRMs
        const medicosListview = {
            clinico: [
                { nome: "Dr. Arrow", crm: "12345" },
                { nome: "Dra. Kara", crm: "54321" }
            ],
            cirurgiao: [
                { nome: "Dr. Ackles", crm: "67890" },
                { nome: "Dra. Anna", crm: "09876" }
            ],
            oftalmologia: [
                { nome: "Dr. Alex", crm: "45678" },
                { nome: "Dra. Sofia", crm: "98765" }
            ],
            cardiologia: [
                { nome: "Dr. Hanry", crm: "23456" },
                { nome: "Dra. Laura", crm: "65432" }
            ]
        };

        // Função para atualizar a lista de médicos com base na especialização selecionada
        function atualizarListaMedicos(especializacao) {
            const medicosListview = document.getElementById("medicosListview");
            medicosListview.innerHTML = "";
            if (especializacao && medicosData[especializacao]) {
                medicosData[especializacao].forEach(medico => {
                    const listItem = document.createElement("li");
                    listItem.textContent = `${medico.nome} - CRM: ${medico.crm}`;
                    medicosListview.appendChild(listItem);
                });
            } else {
                const listItem = document.createElement("li");
                listItem.textContent = "Por favor, selecione uma especialização.";
                medicosListview.appendChild(listItem);
            }
        }

        // Event listener para atualizar a lista de médicos quando a especialização é alterada
        const selectEspecializacao = document.getElementById("Especializacao");
        selectEspecializacao.addEventListener("change", function() {
            const especializacaoSelecionada = this.value;
            atualizarListaMedicos(especializacaoSelecionada);
        });
    </script>
</body>
</html>
