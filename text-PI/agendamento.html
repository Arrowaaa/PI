<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendamento de Consultas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
    <div class="imagens">
        <img src="assets/img/cachorros/2.png" alt="Imagem 1" class="imagem-esquerda">
        <img src="assets/img/cachorros/cachorro.png" alt="Imagem 2" class="imagem-direita">
    </div>
    <div class="container">
        <h2>Agendamento de Consultas</h2>

        <div class="input-group">
            <label for="cpf">CPF:</label>
            <input type="text" id="cpf" name="cpf" required>
            <script src="assets/js/mascaras.js"></script>
        </div>
        <div class="input-group">
            <label for="especializacao">Especialização:</label>
            <select id="especializacao" name="especializacao" required>
                <option></option>
                <option value="clinico">Veterinário Clinico</option>
                <option value="cirurgiao">Cirurgião</option>
                <option value="oftalmologia">Oftalmologia</option>
                <option value="cardiologia">Cardiologia</option>
                <option value="ortopedista">Ortopedia</option>
                <option value="neurologista">Neurologia</option>
                <option value="patologia">Patologia</option>
                <option value="medicina">Medicina Intensiva Veterinária</option>
                <option value="oncologia">Oncologia</option>
                <option value="dermatologia">Dermatologia</option>
                <option value="nutricao">Nutricionista</option>
            </select>
        </div>
        
        <!-- Seleção de médico -->
        <div class="input-group" id="selectMedicoGroup" style="display: none;">
            <label for="selectMedico">Escolha o Médico:</label>
            <select id="selectMedico" name="selectMedico" required></select>
        </div>

        <form id="agendamentoForm" action="#" method="POST">
            <div class="input-group">
                <label for="DataAgendamento">Data do Agendamento:</label>
                <input type="date" id="DataAgendamento" name="DataAgendamento" required>
            </div>
            <div class="input-group">
                <label for="HoraAgendamento">Hora do Agendamento:</label>
                <input type="time" id="HoraAgendamento" name="HoraAgendamento" required>
            </div>
            <!-- Lista de médicos -->
            <div class="input-group" id="listaMedicos">
                <label for="listaMedicos">Médicos Disponíveis:</label>
                <ul id="medicosListview"></ul>
            </div>
            <!-- Botões -->
            <button type="submit" class="button">Agendar Consulta</button>
            
            <p><a href="perfil.html" class="button">Seu Perfil</a></p>
        </form>
    </div>

    <script>
        // Fonte de dados simulada para médicos, especialidades e CRMs
        const medicosData = {
            clinico: [
                { nome: "Dr. Arrow", crm: "12345" },
                { nome: "Dra. Kara", crm: "54321" }
            ],
            cirurgiao: [
                { nome: "Dr. Ackles", crm: "67890" },
                { nome: "Dra. Anna", crm: "09876" }
            ],
            oftalmologia: [
                { nome: "Dr. Alex", crm: "45678" },
                { nome: "Dra. Sofia", crm: "98765" }
            ],
            cardiologia: [
                { nome: "Dr. Hanry", crm: "23456" },
                { nome: "Dra. Laura", crm: "65432" }
            ],
            ortopedista: [
                { nome: "Dr. Lucas", crm: "13579" },
                { nome: "Dra. Camila", crm: "24680" }
            ],
            neurologista: [
                { nome: "Dr. Gabriel", crm: "11223" },
                { nome: "Dra. Isabela", crm: "33445" }
            ],
            patologia: [
                { nome: "Dr. Thiago", crm: "55667" },
                { nome: "Dra. Marcela", crm: "77889" }
            ],
            medicina: [
                { nome: "Dr. Mateus", crm: "99000" },
                { nome: "Dra. Juliana", crm: "11234" }
            ],
            oncologia: [
                { nome: "Dr. Pedro", crm: "55443" },
                { nome: "Dra. Fernanda", crm: "33221" }
            ],
            dermatologia: [
                { nome: "Dr. Rafael", crm: "11234" },
                { nome: "Dra. Carolina", crm: "44321" }
            ],
            nutricao: [
                { nome: "Dr. André", crm: "98765" },
                { nome: "Dra. Renata", crm: "65432" }
            ]
        };

        // Função para atualizar a lista de médicos e a seleção de médicos com base na especialização selecionada
        function atualizarListaMedicos(especializacao) {
            const medicosListviewElement = document.getElementById("medicosListview");
            const selectMedicoElement = document.getElementById("selectMedico");
            medicosListviewElement.innerHTML = "";
            selectMedicoElement.innerHTML = "";
            selectMedicoElement.innerHTML = "<option value=''>Selecione o Médico</option>"; 
            if (especializacao && medicosData[especializacao]) {
                medicosData[especializacao].forEach(medico => {
                    const listItem = document.createElement("li");
                    listItem.textContent = `${medico.nome} - CRM: ${medico.crm}`;
                    medicosListviewElement.appendChild(listItem);
                    // Criar uma opção para a seleção de médicos
                    const option = document.createElement("option");
                    option.value = medico.crm;
                    option.textContent = `${medico.nome} - CRM: ${medico.crm}`;
                    selectMedicoElement.appendChild(option);
                });
                // Exibir a seleção de médico
                document.getElementById("selectMedicoGroup").style.display = "block";
            } else {
                const listItem = document.createElement("li");
                listItem.textContent = "Por favor, selecione uma especialização.";
                medicosListviewElement.appendChild(listItem);
                // Esconder a seleção de médico se não houver especialização selecionada
                document.getElementById("selectMedicoGroup").style.display = "none";
            }
        }

        // Event listener para atualizar a lista de médicos quando a especialização é alterada
        const selectEspecializacao = document.getElementById("especializacao");
        selectEspecializacao.addEventListener("change", function() {
            const especializacaoSelecionada = this.value;
            atualizarListaMedicos(especializacaoSelecionada);
        });
    </script>
</body>
</html>
